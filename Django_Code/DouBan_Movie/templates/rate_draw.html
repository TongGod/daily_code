{% extends "draw.html" %}
{% block title %}年份扇形图{% endblock %}
{% block draw %}
    <script>
        var myChart = echarts.init(document.getElementById("main"));
        var myOption = {
            title:{
                show : true,
                text : "评分扇形图",
                textStyle:{
                    color:"black",
                    fontWeight:'bolder',
                    fontFamily : 'sans-serif',
                    fontSize : 25,
                },
                x:"center",
                y:"5%"
            },
            tooltip: {
                trigger: 'item'
            },
            legend: {
                top: '10%',
                y: 'center'
            },
            series: [
                {
                    name: '评分数量',
                    type: 'pie',
                    radius: '50%',
                    avoidLabelOverlap: true,
                    label: {
                        normal:{
                                show:true,
                                position:'outside',
                                textStyle : {
                                    fontWeight : 300 ,
                                    fontSize : 16
                                },
                                formatter:'{b}\n{d}%'
                            }
                        },
                    emphasis: {
                        label: {
                            show: true,
                            fontSize: '40',
                            fontWeight: 'bold'
                        }
                    },
                    labelLine: {
                        show: true
                    },
                    data: {% autoescape off %}{{ rate_date }}{% endautoescape %},
                }
            ]
        };
        myChart.setOption(myOption);
    </script>
{% endblock %}